# Vessel Game - 日本列島配船最適化ゲーム

海外の供給拠点から日本の需要都市へ貨物を輸送する戦略シミュレーションゲーム。

**プレイURL**: https://vessel-game.vercel.app

## 更新履歴

### v2.0.0 (2024年12月)

**新機能**
- **スタート画面**: ゲーム起動時に導入画面を表示
- **遊び方ガイド**: 8ステップのインタラクティブチュートリアルを追加
  - 画面の見方、貨物の積み込み練習、操作説明など
- **スタートに戻る機能**: ゲーム中からスタート画面に戻れるように

**新拠点追加**
- 🧊 **樺太**: 黄色貨物の北部供給拠点（札幌・ロシアと接続）
- 🌋 **カムチャッカ**: 黄色・赤の北部供給拠点（樺太と接続）
- 🦘 **オーストラリア**: 緑・青の南方大型供給拠点（PNG・インドネシアと接続）
- 🐘 **インド**: 緑・青の西方供給拠点（ベトナム・シンガポールと接続）

**ゲームバランス調整**
- **船の性能リバランス**
  - 大型船: 積載24個、速度1（大量輸送特化）
  - 中型船: 積載18個、速度2、2色積載可能（バランス型）
  - 小型船: 積載12個、速度3（高速移動特化）
- **供給配置の再設計**
  - 緑: 東南アジア・オセアニアに集中
  - 黄: 北部（樺太・カムチャッカ・上海）に集中
  - 赤・青: 各地に分散配置

**UI/UX改善**
- **貨物の色識別性向上**: 青と緑を見やすい色に調整
- **航路表示の改善**: 実際のグラフエッジを経由するパス描画
- **地図表示の最適化**: ズーム位置とアスペクト比を調整

---

## ゲーム概要

プレイヤーは3隻の船を操り、30ターンの間、日本の4都市（東京・札幌・宮崎・石川）の在庫を枯渇させないように貨物を供給し続けることが目標です。

## 遊び方

### ゲーム目標

**30ターン生き残りましょう！**

需要拠点（日本の都市）の在庫が0になるとゲームオーバーです。

### 基本操作

#### 1. 船を選択する
- 画面下部の船パネルで操作したい船をクリック
- または地図上の船アイコンを直接クリック

#### 2. 貨物を積む（供給拠点にいる場合）
- 港の在庫（色付きの四角）をクリックして船に積み込み
- 各船には積載制限と積載可能な色の制限があります

#### 3. 行き先を予約する
- 緑色にハイライトされた拠点をクリックして行き先を設定
- 各船の行き先を設定したら「ターン終了」をクリック

#### 4. 荷下ろし
- 需要拠点に到着すると、対応する色の貨物は自動的に荷下ろしされます
- 手動で荷下ろしボタンを押すこともできます

### ターンの流れ

1. **需要消費**: 各需要都市で在庫が消費される
2. **船の移動**: 予約した行き先に向けて出港
3. **到着・荷下ろし**: 目的地に到着し、需要拠点では自動荷下ろし
4. **供給生成**: 各供給拠点で貨物が生成される

### 便利な機能

- **戻るボタン**: 前のターンに戻れます（何ターンでも戻れます）
- **リセット**: ゲームを最初からやり直し
- **ヘルプ（?ボタン）**: ゲーム内ヘルプを表示

## 船の種類

| 船 | 積載量 | 積載色数 | 速度 | 初期位置 | 特徴 |
|----|--------|----------|------|----------|------|
| 🚢 大型船 | 24個 | 1色のみ | 1 | 東京 | 大量輸送向け |
| ⛵ 中型船 | 18個 | 2色まで | 2 | 札幌 | バランス型・2色積載可能 |
| 🛥️ 小型船 | 12個 | 1色のみ | 3 | 宮崎 | 高速移動 |

**速度について**
- 速度1: 1ターンで隣接する拠点（1エッジ先）まで移動
- 速度2: 1ターンで2エッジ先まで移動可能
- 速度3: 1ターンで3エッジ先まで移動可能

## 拠点の種類

### 需要拠点（日本の都市）

毎ターン在庫が消費されます。対応する色の貨物を届けて補充しましょう。

| 都市 | 需要色 | 初期在庫 | 消費量（Lv1/Lv2/Lv3） |
|------|--------|----------|----------------------|
| 東京 | 🔴 赤 | 20 | 2 / 3 / 4 |
| 札幌 | 🔵 青 | 20 | 2 / 3 / 4 |
| 宮崎 | 🟡 黄 | 20 | 1 / 2 / 3 |
| 石川 | 🟢 緑 | 20 | 1 / 2 / 3 |

## 難易度（需要レベル）

ターン経過で需要レベルが上昇し、都市の消費量が増加します。
赤・青（東京・札幌）は消費が大きく、黄・緑（宮崎・石川）は消費が小さめです。

| レベル | ターン | 赤・青 | 黄・緑 |
|--------|--------|--------|--------|
| Lv1 | 1〜10 | -2/ターン | -1/ターン |
| Lv2 | 11〜20 | -3/ターン | -2/ターン |
| Lv3 | 21〜30 | -4/ターン | -3/ターン |

## アイテム

ゲーム中に入手できるアイテムでピンチを乗り越えましょう。

| アイテム | 効果 |
|----------|------|
| 📦 緊急生産 | 供給拠点1つの在庫を満タンにします |
| ❄️ 特別休日 | 1ターン、全都市の消費を停止します |
| ⚡ 瞬間移動 | 船1隻を任意の港へ即座に移動します |

## スコア

需要拠点に届けた貨物の合計個数がスコアになります。
より多くの貨物を届けてハイスコアを目指しましょう！

## 攻略のコツ

1. **色のマッチングを意識**: 各需要都市が必要とする色の貨物を効率よく運ぼう
2. **供給拠点の場所を把握**: どの港でどの色の貨物が手に入るか覚えよう
3. **複数の船を連携**: 大型船で大量輸送、小型船で緊急補給など役割分担
4. **先を読む**: 需要レベルが上がる前に在庫を確保しておこう
5. **戻るボタンを活用**: 失敗したら戻ってやり直せます

## 技術スタック

- **フロントエンド**: React 19 + TypeScript
- **ビルドツール**: Vite 7
- **地図表示**: Leaflet + react-leaflet
- **デプロイ**: Vercel

## 開発

```bash
# 依存関係のインストール
npm install

# 開発サーバー起動
npm run dev

# ビルド
npm run build
```

## ライセンス

MIT
